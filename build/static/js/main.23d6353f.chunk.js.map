{"version":3,"sources":["services/ProductServices.js","contexts/ProductContext.jsx","components/ProductForm.jsx","components/ProductList.jsx","App.js","reportWebVitals.js","index.js"],"names":["ProductServices","Object","classCallCheck","this","baseUrl","createClass","key","value","product","axios","post","then","res","data","get","put","_id","id","delete","ProductContext","createContext","ProductContextProvider","props","productService","_useState","useState","_useState2","slicedToArray","products","setProducts","_useState3","_useState4","editProduct","setEditProduct","useEffect","readAll","react_default","a","createElement","Provider","createProduct","create","concat","toConsumableArray","deleteProduct","filter","p","findProduct","find","updateProduct","update","map","children","ProductForm","isVisible","setIsVisible","_useContext","useContext","initialProductState","name","price","expiry_date","productData","setProductData","updateField","field","objectSpread","defineProperty","console","log","dialogFooter","className","button_esm","label","icon","onClick","dialog_esm","visible","modal","style","width","contentStyle","overflow","header","onHide","footer","inputtext_esm","onChange","e","target","trim","inputnumber_esm","mode","currency","calendar_esm","Date","toISOString","substring","dateFormat","ProductList","float","panel_esm","textAlign","datatable_esm","selectionMode","onSelectionChange","column_esm","components_ProductForm","App","contexts_ProductContext","components_ProductList","reportWebVitals","onPerfEntry","Function","__webpack_require__","bind","_ref","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","createRoot","document","getElementById","render","StrictMode","src_App"],"mappings":"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","file":"static/js/main.23d6353f.chunk.js","sourcesContent":["import axios from 'axios';\n\nexport class ProductServices {\n    //baseUrl = \"http://localhost:8080/api/productos/\";\n    baseUrl = \"https://productos-api-foraneo.herokuapp.com/api/productos/\";\n\n    create(product){\n        return axios.post(this.baseUrl+\"product/\",product).then( res => res.data);\n    }\n    readAll(){\n        return axios.get(this.baseUrl).then( res => res.data);\n    }\n    update(product){\n        return axios.put(this.baseUrl+\"product/\"+product._id,product).then(res=> res.data);\n    }\n    delete(id){\n        return axios.delete(this.baseUrl+\"product/\"+id).then(res => res.data);\n    }\n}\n","import React, {createContext, useEffect, useState} from 'react';\nimport {ProductServices} from \"../services/ProductServices\";\n\nexport const ProductContext = createContext();\n\nconst ProductContextProvider = (props) => {\n\n    const productService = new ProductServices();\n\n    const [products, setProducts] = useState([]);\n\n    const [editProduct, setEditProduct] = useState(null);\n\n    useEffect(() => {\n        productService.readAll().then((data) => setProducts(data));\n    }, []);\n\n    const createProduct = (product) => {\n        productService.create(product).then((data) => setProducts([...products, data]));\n    };\n\n    const deleteProduct = (id) => {\n        productService.delete(id).then(() => setProducts(products.filter((p) => p._id !== id)));\n    };\n\n    const findProduct = (id) => {\n        const product = products.find((p) => p._id === id);\n        setEditProduct(product);\n    };\n\n    const updateProduct = (product) => {\n        productService.update(product).then((data) =>\n                setProducts(\n                    products.map((p) => (p._id === product._id ? data : product))\n                )\n            );\n        setEditProduct(null);\n    };\n\n    return (\n        <ProductContext.Provider\n            value={{\n                createProduct,\n                deleteProduct,\n                findProduct,\n                updateProduct,\n                editProduct,\n                products,\n            }}\n        >\n            {props.children}\n        </ProductContext.Provider>\n    )};\n\n\nexport default ProductContextProvider","import React,{useContext,useState,useEffect}from \"react\";\nimport {ProductContext} from \"../contexts/ProductContext\";\nimport {Dialog} from \"primereact/dialog\";\nimport { Button } from \"primereact/button\";\nimport { InputText } from \"primereact/inputtext\";\nimport { InputNumber } from \"primereact/inputnumber\";\nimport { Calendar } from \"primereact/calendar\";\n\nconst ProductForm = (props) => {\n    const { isVisible, setIsVisible } = props;\n\n    const {\n        createProduct,\n        deleteProduct,\n        editProduct,\n        updateProduct,\n    } = useContext(ProductContext);\n\n    const initialProductState = {\n        _id: null,\n        name: \"\",\n        price: 0,\n        expiry_date: null,\n    };\n\n    const [productData, setProductData] = useState(initialProductState);\n\n    useEffect(() => {\n        if (editProduct) setProductData(editProduct);\n    }, [editProduct]);\n\n    const updateField = (data, field) => {\n        setProductData({\n            ...productData,\n            [field]: data,\n        });\n\n        console.log(productData);\n    };\n\n    const _deleteProduct = () => {\n        if (editProduct) {\n            deleteProduct(productData._id);\n            setProductData(initialProductState);\n        }\n        setIsVisible(false);\n    };\n\n    const saveProduct = () => {\n        if (!editProduct) {\n            createProduct(productData);\n        } else {\n            updateProduct(productData);\n        }\n        setProductData(initialProductState);\n        setIsVisible(false);\n    };\n\n    const dialogFooter = (\n        <div className=\"ui-dialog-buttonpane p-clearfix\">\n            <Button label=\"Delete\" icon=\"pi pi-times\" onClick={_deleteProduct} />\n            <Button label=\"Save\" icon=\"pi pi-check\" onClick={saveProduct} />\n        </div>\n    );\n\n    const clearSelected = () => {\n        setIsVisible(false);\n        setProductData(initialProductState);\n    };\n\n    return (\n        <div>\n            <Dialog\n                visible={isVisible}\n                modal={true}\n                style={{ width: \"420px\" }}\n                contentStyle={{ overflow: \"visible\" }}\n                header=\"Detalles del Producto\"\n                onHide={() => clearSelected()}\n                footer={dialogFooter}\n            >\n                <div className=\"p-grid p-fluid\">\n                    <br />\n                    <div className=\"p-float-label\">\n                        <InputText\n                            value={productData.name}\n                            onChange={(e) => updateField(e.target.value.trim(), \"name\")}\n                        />\n                        <label>Nombre:</label>\n                    </div>\n                    <br />\n                    <div className=\"p-float-label\">\n                        <InputNumber\n                            value={productData.price}\n                            onChange={(e) => updateField(e.target.value, \"price\")}\n                            mode=\"currency\"\n                            currency=\"USD\"\n                        />\n                        <label>Precio:</label>\n                    </div>\n                    <br />\n                    <div className=\"p-float-label\">\n                        <Calendar\n                            value={\n                                productData.expiry_date &&\n                                new Date(productData.expiry_date + \" \")\n                            }\n                            onChange={(e) =>\n                                updateField(\n                                    e.target.value.toISOString().substring(0, 10),\n                                    \"expiry_date\"\n                                )\n                            }\n                            dateFormat=\"yy-mm-dd\"\n                        />\n                        <label>Fecha de caducidad:</label>\n                    </div>\n                    <br />\n                </div>\n            </Dialog>\n        </div>\n    );\n};\n\nexport default ProductForm;","import React, {useContext, useState} from \"react\";\nimport {Panel} from \"primereact/panel\";\nimport {DataTable} from \"primereact/datatable\";\nimport {Column} from \"primereact/column\";\nimport {Button} from \"primereact/button\";\nimport {ProductContext} from \"../contexts/ProductContext\";\nimport ProductForm from \"./ProductForm\";\n\nconst ProductList = (props) => {\n\n    const {products, findProduct} = useContext(ProductContext);\n    const [isVisible, setIsVisible] =useState(false);\n    const saveProduct = (id) => {\n        findProduct(id);\n        setIsVisible(true);\n    };\n\n    const footer = (\n        <div className=\"p-clearfix\" style={{ width: \"100%\" }}>\n            <Button\n                style={{ float: \"left\" }}\n                icon=\"pi pi-plus\"\n                label=\"Add\"\n                onClick={() => setIsVisible(true)}\n            />\n        </div>\n    );\n    return (<div>\n        <Panel header= \"LISTA DE PRODUCTOS\" style={{textAlign:\"center\"}}>\n            <DataTable\n                value={products}\n                selectionMode=\"single\"\n                onSelectionChange={(e) => saveProduct(e.value._id)}\n                footer={footer}\n            >\n                <Column field=\"_id\" header=\"Id\"/>\n                <Column field=\"name\" header=\"Nombre\"/>\n                <Column field=\"price\" header=\"Precio\"/>\n                <Column field=\"expiry_date\" header=\"Fecha de caducidad\"/>\n\n            </DataTable>\n        </Panel>\n        <ProductForm isVisible={isVisible} setIsVisible={setIsVisible}/>\n    </div>);\n}\n\nexport default ProductList;\n","import React from 'react';\nimport './App.css';\nimport ProductContextProvider from \"./contexts/ProductContext\";\nimport ProductList from \"./components/ProductList\";\nimport \"primereact/resources/themes/lara-light-indigo/theme.css\";  //theme\nimport \"primereact/resources/primereact.min.css\";                  //core css\nimport \"primeicons/primeicons.css\";\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <ProductContextProvider>\n        <ProductList/>\n      </ProductContextProvider>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom/client';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nconst root = ReactDOM.createRoot(document.getElementById('root'));\nroot.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}