{"ast":null,"code":"import _defineProperty from \"/Users/foraneoblack/Desktop/Instituto/Tendencias/U3/mongo_react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"/Users/foraneoblack/Desktop/Instituto/Tendencias/U3/mongo_react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _slicedToArray from \"/Users/foraneoblack/Desktop/Instituto/Tendencias/U3/mongo_react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/foraneoblack/Desktop/Instituto/Tendencias/U3/mongo_react/src/components/ProductForm.jsx\";\n\nimport React, { useContext, useState, useEffect } from \"react\";\nimport { ProductContext } from \"../contexts/ProductContext\";\nimport { Dialog } from \"primereact/dialog\";\nimport { Button } from \"primereact/button\";\nimport { InputText } from \"primereact/inputtext\";\nimport { InputNumber } from \"primereact/inputnumber\";\nimport { Calendar } from \"primereact/calendar\";\n\nvar ProductForm = function ProductForm(props) {\n  var isVisible = props.isVisible,\n      setIsVisible = props.setIsVisible;\n\n  var _useContext = useContext(ProductContext),\n      createProduct = _useContext.createProduct,\n      deleteProduct = _useContext.deleteProduct,\n      editProduct = _useContext.editProduct,\n      updateProduct = _useContext.updateProduct;\n\n  var initialProductState = {\n    _id: null,\n    name: \"\",\n    price: 0,\n    expiry_date: null\n  };\n\n  var _useState = useState(initialProductState),\n      _useState2 = _slicedToArray(_useState, 2),\n      productData = _useState2[0],\n      setProductData = _useState2[1];\n\n  useEffect(function () {\n    if (editProduct) setProductData(editProduct);\n  }, [editProduct]);\n\n  var updateField = function updateField(data, field) {\n    setProductData(_objectSpread({}, productData, _defineProperty({}, field, data)));\n    console.log(productData);\n  };\n\n  var _deleteProduct = function _deleteProduct() {\n    if (editProduct) {\n      deleteProduct(productData._id);\n      setProductData(initialProductState);\n    }\n\n    setIsVisible(false);\n  };\n\n  var saveProduct = function saveProduct() {\n    if (!editProduct) {\n      createProduct(productData);\n    } else {\n      updateProduct(productData);\n    }\n\n    setProductData(initialProductState);\n    setIsVisible(false);\n  };\n\n  var dialogFooter = /*#__PURE__*/React.createElement(\"div\", {\n    className: \"ui-dialog-buttonpane p-clearfix\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    label: \"Delete\",\n    icon: \"pi pi-times\",\n    onClick: _deleteProduct,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(Button, {\n    label: \"Save\",\n    icon: \"pi pi-check\",\n    onClick: saveProduct,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 13\n    }\n  }));\n\n  var clearSelected = function clearSelected() {\n    setIsVisible(false);\n    setProductData(initialProductState);\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Dialog, {\n    visible: isVisible,\n    modal: true,\n    style: {\n      width: \"420px\"\n    },\n    contentStyle: {\n      overflow: \"visible\"\n    },\n    header: \"Detalles del Producto\",\n    onHide: function onHide() {\n      return clearSelected();\n    },\n    footer: dialogFooter,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"p-grid p-fluid\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"br\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"p-float-label\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(InputText, {\n    value: productData.name,\n    onChange: function onChange(e) {\n      return updateField(e.target.value.trim(), \"name\");\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 25\n    }\n  }, \"Nombre:\")), /*#__PURE__*/React.createElement(\"br\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"p-float-label\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(InputNumber, {\n    value: productData.price,\n    onChange: function onChange(e) {\n      return updateField(e.target.value, \"price\");\n    },\n    mode: \"currency\",\n    currency: \"USD\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 25\n    }\n  }, \"Precio:\")), /*#__PURE__*/React.createElement(\"br\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"p-float-label\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Calendar, {\n    value: productData.expiry_date && new Date(productData.expiry_date + \" \"),\n    onChange: function onChange(e) {\n      return updateField(e.target.value.toISOString().substring(0, 10), \"expiry_date\");\n    },\n    dateFormat: \"yy-mm-dd\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 25\n    }\n  }, \"Fecha de caducidad:\")), /*#__PURE__*/React.createElement(\"br\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 21\n    }\n  }))));\n};\n\nexport default ProductForm;","map":{"version":3,"names":["React","useContext","useState","useEffect","ProductContext","Dialog","Button","InputText","InputNumber","Calendar","ProductForm","props","isVisible","setIsVisible","createProduct","deleteProduct","editProduct","updateProduct","initialProductState","_id","name","price","expiry_date","productData","setProductData","updateField","data","field","console","log","_deleteProduct","saveProduct","dialogFooter","clearSelected","width","overflow","e","target","value","trim","Date","toISOString","substring"],"sources":["/Users/foraneoblack/Desktop/Instituto/Tendencias/U3/mongo_react/src/components/ProductForm.jsx"],"sourcesContent":["import React,{useContext,useState,useEffect}from \"react\";\nimport {ProductContext} from \"../contexts/ProductContext\";\nimport {Dialog} from \"primereact/dialog\";\nimport { Button } from \"primereact/button\";\nimport { InputText } from \"primereact/inputtext\";\nimport { InputNumber } from \"primereact/inputnumber\";\nimport { Calendar } from \"primereact/calendar\";\n\nconst ProductForm = (props) => {\n    const { isVisible, setIsVisible } = props;\n\n    const {\n        createProduct,\n        deleteProduct,\n        editProduct,\n        updateProduct,\n    } = useContext(ProductContext);\n\n    const initialProductState = {\n        _id: null,\n        name: \"\",\n        price: 0,\n        expiry_date: null,\n    };\n\n    const [productData, setProductData] = useState(initialProductState);\n\n    useEffect(() => {\n        if (editProduct) setProductData(editProduct);\n    }, [editProduct]);\n\n    const updateField = (data, field) => {\n        setProductData({\n            ...productData,\n            [field]: data,\n        });\n\n        console.log(productData);\n    };\n\n    const _deleteProduct = () => {\n        if (editProduct) {\n            deleteProduct(productData._id);\n            setProductData(initialProductState);\n        }\n        setIsVisible(false);\n    };\n\n    const saveProduct = () => {\n        if (!editProduct) {\n            createProduct(productData);\n        } else {\n            updateProduct(productData);\n        }\n        setProductData(initialProductState);\n        setIsVisible(false);\n    };\n\n    const dialogFooter = (\n        <div className=\"ui-dialog-buttonpane p-clearfix\">\n            <Button label=\"Delete\" icon=\"pi pi-times\" onClick={_deleteProduct} />\n            <Button label=\"Save\" icon=\"pi pi-check\" onClick={saveProduct} />\n        </div>\n    );\n\n    const clearSelected = () => {\n        setIsVisible(false);\n        setProductData(initialProductState);\n    };\n\n    return (\n        <div>\n            <Dialog\n                visible={isVisible}\n                modal={true}\n                style={{ width: \"420px\" }}\n                contentStyle={{ overflow: \"visible\" }}\n                header=\"Detalles del Producto\"\n                onHide={() => clearSelected()}\n                footer={dialogFooter}\n            >\n                <div className=\"p-grid p-fluid\">\n                    <br />\n                    <div className=\"p-float-label\">\n                        <InputText\n                            value={productData.name}\n                            onChange={(e) => updateField(e.target.value.trim(), \"name\")}\n                        />\n                        <label>Nombre:</label>\n                    </div>\n                    <br />\n                    <div className=\"p-float-label\">\n                        <InputNumber\n                            value={productData.price}\n                            onChange={(e) => updateField(e.target.value, \"price\")}\n                            mode=\"currency\"\n                            currency=\"USD\"\n                        />\n                        <label>Precio:</label>\n                    </div>\n                    <br />\n                    <div className=\"p-float-label\">\n                        <Calendar\n                            value={\n                                productData.expiry_date &&\n                                new Date(productData.expiry_date + \" \")\n                            }\n                            onChange={(e) =>\n                                updateField(\n                                    e.target.value.toISOString().substring(0, 10),\n                                    \"expiry_date\"\n                                )\n                            }\n                            dateFormat=\"yy-mm-dd\"\n                        />\n                        <label>Fecha de caducidad:</label>\n                    </div>\n                    <br />\n                </div>\n            </Dialog>\n        </div>\n    );\n};\n\nexport default ProductForm;"],"mappings":"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"},"metadata":{},"sourceType":"module"}