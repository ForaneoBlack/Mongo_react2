{"ast":null,"code":"import _toConsumableArray from \"/Users/foraneoblack/Desktop/Instituto/Tendencias/U3/mongo_react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _slicedToArray from \"/Users/foraneoblack/Desktop/Instituto/Tendencias/U3/mongo_react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/foraneoblack/Desktop/Instituto/Tendencias/U3/mongo_react/src/contexts/ProductContext.jsx\";\n\nimport React, { createContext, useEffect, useState } from 'react';\nimport { ProductServices } from \"../services/ProductServices\";\nexport var ProductContext = createContext();\n\nvar ProductContextProvider = function ProductContextProvider(props) {\n  var productService = new ProductServices();\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      products = _useState2[0],\n      setProducts = _useState2[1];\n\n  var _useState3 = useState(null),\n      _useState4 = _slicedToArray(_useState3, 2),\n      editProduct = _useState4[0],\n      setEditProduct = _useState4[1];\n\n  useEffect(function () {\n    productService.readAll().then(function (data) {\n      return setProducts(data);\n    });\n  }, [productService, products]);\n\n  var createProduct = function createProduct(product) {\n    productService.create(product).then(function (data) {\n      return setProducts([].concat(_toConsumableArray(product), [data]));\n    });\n  };\n\n  var deleteProduct = function deleteProduct(id) {\n    productService.delete(id).then(function () {\n      return setProducts(products.filter(function (p) {\n        return p._id !== id;\n      }));\n    });\n  };\n\n  var findProduct = function findProduct(id) {\n    var product = products.find(function (p) {\n      return p._id === id;\n    });\n    setEditProduct(product);\n  };\n\n  var updateProduct = function updateProduct(product) {\n    productService.update(product).then(function (data) {\n      return setProducts(products.map(function (p) {\n        return p._id === _id ? data : product;\n      }));\n    });\n    setEditProduct(null);\n  };\n\n  return /*#__PURE__*/React.createElement(ProductContext.Provider, {\n    value: {\n      createProduct: createProduct,\n      deleteProduct: deleteProduct,\n      findProduct: findProduct,\n      updateProduct: updateProduct,\n      editProduct: editProduct,\n      products: products\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 13\n    }\n  }, props.children);\n};\n\nexport default ProductContextProvider;","map":{"version":3,"names":["React","createContext","useEffect","useState","ProductServices","ProductContext","ProductContextProvider","props","productService","products","setProducts","editProduct","setEditProduct","readAll","then","data","createProduct","product","create","deleteProduct","id","delete","filter","p","_id","findProduct","find","updateProduct","update","map","children"],"sources":["/Users/foraneoblack/Desktop/Instituto/Tendencias/U3/mongo_react/src/contexts/ProductContext.jsx"],"sourcesContent":["import React, {createContext, useEffect, useState} from 'react';\nimport {ProductServices} from \"../services/ProductServices\";\n\nexport const ProductContext = createContext();\n\nconst ProductContextProvider = (props) => {\n    const productService = new ProductServices();\n\n    const [products, setProducts] = useState([]);\n\n    const [editProduct, setEditProduct] = useState(null);\n\n    useEffect(() => {\n        productService.readAll().then((data) => setProducts(data));\n    },[productService, products]) ;\n\n    const createProduct =  (product) => {\n        productService.create(product).then(data => setProducts([...product,data]));\n    };\n    const deleteProduct = (id) => {\n        productService.delete(id).then(() => setProducts(products.filter((p) => p._id !== id)));\n    };\n\n    const findProduct = (id) =>{\n        const product = products.find((p) => p._id === id);\n        setEditProduct(product);\n    };\n    const updateProduct =  (product) => {\n        productService.update (product).then(data => setProducts(products.map(p => p._id === _id ? data : product)));\n        setEditProduct(null);\n    };\n    return (<ProductContext.Provider\n    value = {{\n        createProduct,\n        deleteProduct,\n        findProduct,\n        updateProduct,\n        editProduct,\n        products\n\n    }}>\n        {props.children}\n    </ProductContext.Provider>)\n}\n\nexport default ProductContextProvider"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAeC,aAAf,EAA8BC,SAA9B,EAAyCC,QAAzC,QAAwD,OAAxD;AACA,SAAQC,eAAR,QAA8B,6BAA9B;AAEA,OAAO,IAAMC,cAAc,GAAGJ,aAAa,EAApC;;AAEP,IAAMK,sBAAsB,GAAG,SAAzBA,sBAAyB,CAACC,KAAD,EAAW;EACtC,IAAMC,cAAc,GAAG,IAAIJ,eAAJ,EAAvB;;EADsC,gBAGND,QAAQ,CAAC,EAAD,CAHF;EAAA;EAAA,IAG/BM,QAH+B;EAAA,IAGrBC,WAHqB;;EAAA,iBAKAP,QAAQ,CAAC,IAAD,CALR;EAAA;EAAA,IAK/BQ,WAL+B;EAAA,IAKlBC,cALkB;;EAOtCV,SAAS,CAAC,YAAM;IACZM,cAAc,CAACK,OAAf,GAAyBC,IAAzB,CAA8B,UAACC,IAAD;MAAA,OAAUL,WAAW,CAACK,IAAD,CAArB;IAAA,CAA9B;EACH,CAFQ,EAEP,CAACP,cAAD,EAAiBC,QAAjB,CAFO,CAAT;;EAIA,IAAMO,aAAa,GAAI,SAAjBA,aAAiB,CAACC,OAAD,EAAa;IAChCT,cAAc,CAACU,MAAf,CAAsBD,OAAtB,EAA+BH,IAA/B,CAAoC,UAAAC,IAAI;MAAA,OAAIL,WAAW,8BAAKO,OAAL,IAAaF,IAAb,GAAf;IAAA,CAAxC;EACH,CAFD;;EAGA,IAAMI,aAAa,GAAG,SAAhBA,aAAgB,CAACC,EAAD,EAAQ;IAC1BZ,cAAc,CAACa,MAAf,CAAsBD,EAAtB,EAA0BN,IAA1B,CAA+B;MAAA,OAAMJ,WAAW,CAACD,QAAQ,CAACa,MAAT,CAAgB,UAACC,CAAD;QAAA,OAAOA,CAAC,CAACC,GAAF,KAAUJ,EAAjB;MAAA,CAAhB,CAAD,CAAjB;IAAA,CAA/B;EACH,CAFD;;EAIA,IAAMK,WAAW,GAAG,SAAdA,WAAc,CAACL,EAAD,EAAO;IACvB,IAAMH,OAAO,GAAGR,QAAQ,CAACiB,IAAT,CAAc,UAACH,CAAD;MAAA,OAAOA,CAAC,CAACC,GAAF,KAAUJ,EAAjB;IAAA,CAAd,CAAhB;IACAR,cAAc,CAACK,OAAD,CAAd;EACH,CAHD;;EAIA,IAAMU,aAAa,GAAI,SAAjBA,aAAiB,CAACV,OAAD,EAAa;IAChCT,cAAc,CAACoB,MAAf,CAAuBX,OAAvB,EAAgCH,IAAhC,CAAqC,UAAAC,IAAI;MAAA,OAAIL,WAAW,CAACD,QAAQ,CAACoB,GAAT,CAAa,UAAAN,CAAC;QAAA,OAAIA,CAAC,CAACC,GAAF,KAAUA,GAAV,GAAgBT,IAAhB,GAAuBE,OAA3B;MAAA,CAAd,CAAD,CAAf;IAAA,CAAzC;IACAL,cAAc,CAAC,IAAD,CAAd;EACH,CAHD;;EAIA,oBAAQ,oBAAC,cAAD,CAAgB,QAAhB;IACR,KAAK,EAAI;MACLI,aAAa,EAAbA,aADK;MAELG,aAAa,EAAbA,aAFK;MAGLM,WAAW,EAAXA,WAHK;MAILE,aAAa,EAAbA,aAJK;MAKLhB,WAAW,EAAXA,WALK;MAMLF,QAAQ,EAARA;IANK,CADD;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,GAUHF,KAAK,CAACuB,QAVH,CAAR;AAYH,CAtCD;;AAwCA,eAAexB,sBAAf"},"metadata":{},"sourceType":"module"}